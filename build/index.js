/*! For license information please see index.js.LICENSE.txt */
!function(){"use strict";var o={"./src/formats/footnote.js":function(o,e,t){t.r(e);var n=t("@wordpress/element"),r=t("@wordpress/blocks"),s=t("@wordpress/block-editor"),c=t("@wordpress/data"),i=t("@wordpress/i18n"),a=t("@wordpress/rich-text");const l=o=>`<a class="wholesome-footnote" href="#${(new Date).valueOf().toString()}">${o}<sup>0</sup></a>`;(0,a.registerFormatType)("wholesome/footnotes",{className:"wholesome-footnote",edit:o=>{const{isActive:e,onChange:t,value:p}=o;return(0,n.createElement)(s.RichTextToolbarButton,{icon:"info-outline",onClick:()=>{const o=wp.richText.getTextContent(p).substring(p.start,p.end);t((0,a.insert)(p,(0,a.create)({html:l(o)}))),(()=>{let o=1;const e=wp.data.select("core/block-editor").getBlocks(),t=[];e.forEach(e=>{const{content:n}=e.attributes;if(n.includes('class="wholesome-footnote"')){n.match(/<a[\S\s]*? class="wholesome-footnote">[\S\s]*?<\/a>/gi).forEach(r=>{const s=`<sup>${o}</sup>`;if(!r.includes(s)){const o=r.match(/<sup>[\S\s]*?<\/sup>/gi),c=r.replace(o,s);t.push({...e,newContent:n.replace(r,c)})}o++}),t.forEach(o=>{const{name:e,newContent:t}=o,n=(0,r.createBlock)(e,{content:t});(0,c.dispatch)("core/block-editor").replaceBlock(o.clientId,n)})}})})()},title:(0,i.__)("Footnote","wholesome-footnotes")})},tagName:"a",title:(0,i.__)("Footnote","wholesome-footnotes")})},"@wordpress/block-editor":function(o){o.exports=window.wp.blockEditor},"@wordpress/blocks":function(o){o.exports=window.wp.blocks},"@wordpress/data":function(o){o.exports=window.wp.data},"@wordpress/element":function(o){o.exports=window.wp.element},"@wordpress/i18n":function(o){o.exports=window.wp.i18n},"@wordpress/rich-text":function(o){o.exports=window.wp.richText}},e={};function t(n){var r=e[n];if(void 0!==r)return r.exports;var s=e[n]={exports:{}};return o[n](s,s.exports,t),s.exports}t.n=function(o){var e=o&&o.__esModule?function(){return o.default}:function(){return o};return t.d(e,{a:e}),e},t.d=function(o,e){for(var n in e)t.o(e,n)&&!t.o(o,n)&&Object.defineProperty(o,n,{enumerable:!0,get:e[n]})},t.o=function(o,e){return Object.prototype.hasOwnProperty.call(o,e)},t.r=function(o){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(o,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(o,"__esModule",{value:!0})};var n={};!function(){t.r(n);t("./src/formats/footnote.js")}()}();
//# sourceMappingURL=index.js.map