/*! For license information please see index.js.LICENSE.txt */
!function(){"use strict";var e={"./src/formats/footnote.js":function(e,o,t){t.r(o);var n=t("@wordpress/element"),r=t("@wordpress/blocks"),s=t("@wordpress/block-editor"),c=t("@wordpress/data"),i=t("@wordpress/i18n"),a=t("@wordpress/rich-text");const l=e=>`<a class="wholesome-footnote" href="#${(new Date).valueOf().toString()}">${e}<sup>0</sup></a>`;(0,a.registerFormatType)("wholesome/footnotes",{className:"wholesome-footnote",edit:e=>{const{isActive:o,onChange:t,value:p}=e;return(0,n.createElement)(s.RichTextToolbarButton,{icon:"info-outline",onClick:()=>{const e=wp.richText.getTextContent(p).substring(p.start,p.end);t((0,a.insert)(p,(0,a.create)({html:l(e)}))),(()=>{let e=1;const o=wp.data.select("core/block-editor").getBlocks(),t={};o.forEach(o=>{const{content:n}=o.attributes;if(n.includes('class="wholesome-footnote"')){n.match(/<a[\S\s]*? class="wholesome-footnote">[\S\s]*?<\/a>/gi).forEach(r=>{const s=`<sup>${e}</sup>`;if(!r.includes(s)){const e=r.match(/<sup>[\S\s]*?<\/sup>/gi),c=r.replace(e,s),i=t[o.clientId];i?i.newContent=i.newContent.replace(r,c):t[o.clientId]={...o,newContent:n.replace(r,c)}}e++})}}),Object.values(t).forEach(e=>{const{name:o,newContent:t}=e,n=(0,r.createBlock)(o,{content:t});(0,c.dispatch)("core/block-editor").replaceBlock(e.clientId,n)})})()},title:(0,i.__)("Footnote","wholesome-footnotes")})},tagName:"a",title:(0,i.__)("Footnote","wholesome-footnotes")})},"@wordpress/block-editor":function(e){e.exports=window.wp.blockEditor},"@wordpress/blocks":function(e){e.exports=window.wp.blocks},"@wordpress/data":function(e){e.exports=window.wp.data},"@wordpress/element":function(e){e.exports=window.wp.element},"@wordpress/i18n":function(e){e.exports=window.wp.i18n},"@wordpress/rich-text":function(e){e.exports=window.wp.richText}},o={};function t(n){var r=o[n];if(void 0!==r)return r.exports;var s=o[n]={exports:{}};return e[n](s,s.exports,t),s.exports}t.n=function(e){var o=e&&e.__esModule?function(){return e.default}:function(){return e};return t.d(o,{a:o}),o},t.d=function(e,o){for(var n in o)t.o(o,n)&&!t.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:o[n]})},t.o=function(e,o){return Object.prototype.hasOwnProperty.call(e,o)},t.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})};var n={};!function(){t.r(n);t("./src/formats/footnote.js")}()}();
//# sourceMappingURL=index.js.map