{"version":3,"sources":["webpack://wholesome-footnotes/index.js"],"names":["deferred","__webpack_modules__","./src/editor.scss","__unused_webpack_module","__webpack_exports__","__webpack_require__","r","./src/style.scss","./src/blocks/footnote-list.js","_wordpress_element__WEBPACK_IMPORTED_MODULE_0__","_wordpress_block_editor__WEBPACK_IMPORTED_MODULE_1__","_wordpress_blocks__WEBPACK_IMPORTED_MODULE_2__","_wordpress_data__WEBPACK_IMPORTED_MODULE_3__","_wordpress_i18n__WEBPACK_IMPORTED_MODULE_4__","registerBlockType","apiVersion","category","description","__","edit","blockProps","useBlockProps","className","footnotes","useSelect","select","getEditedPostAttribute","wholesome_footnotes","length","sort","a","b","order","createElement","id","map","note","tags","footnote","match","backLink","uid","endTag","at","replace","RegExp","dangerouslySetInnerHTML","__html","key","icon","save","supports","align","textdomain","title","./src/components/WysiwygControl.js","_wordpress_components__WEBPACK_IMPORTED_MODULE_1__","_wordpress_i18n__WEBPACK_IMPORTED_MODULE_2__","_wordpress_keycodes__WEBPACK_IMPORTED_MODULE_3__","_wordpress_dom_ready__WEBPACK_IMPORTED_MODULE_4__","_wordpress_dom_ready__WEBPACK_IMPORTED_MODULE_4___default","n","wp","window","WysiwygControl","Component","[object Object]","props","super","this","initialize","bind","onSetup","focus","baseURL","suffix","wpEditorL10n","tinymce","EditorManager","overrideDefaults","base_url","slug","addEventListener","oldEditor","remove","prevProps","value","editor","get","setContent","settings","plugins","external_plugins","classic_block_editor","toolbars","toolbar1","toolbar2","toolbar3","toolbar4","formats","editorSettings","block_formats","inline","content_css","fixed_toolbar_container","setup","onChange","ref","bookmark","on","selection","getBookmark","getContent","once","moveToBookmark","event","altKey","keyCode","F10","stopPropagation","rootNode","getBody","document","activeElement","blur","nativeEvent","stopImmediatePropagation","BaseControl","onClick","data-placeholder","onKeyDown","onToolbarKeyDown","./src/formats/footnote.js","_wordpress_components__WEBPACK_IMPORTED_MODULE_2__","_wordpress_rich_text__WEBPACK_IMPORTED_MODULE_5__","_components_WysiwygControl__WEBPACK_IMPORTED_MODULE_6__","_plugins_transformations__WEBPACK_IMPORTED_MODULE_7__","name","FootnoteBlock","text","registerFormatType","_contentRef$current","contentRef","activeFormats","showPopover","setShowPopover","useState","setFootnote","getActiveFootnoteUID","filter","format","type","attributes","unregisteredAttributes","appliedAttributes","Object","prototype","hasOwnProperty","call","Fragment","RichTextToolbarButton","Modal","onRequestClose","label","current","onLoad","setTimeout","_contentRef$current2","tinyMce","querySelector","selectedFootnote","_selectedFootnote$","getActiveFootnote","Button","_newFootnotes$uid","getTextContent","substring","start","end","toggleFormat","Date","valueOf","toString","insert","create","html","newFootnotes","keys","find","push","dispatch","editPost","meta","wholesome_footnotes_updated","setFootnoteNumbers","variant","tagName","./src/index.js","_plugins_transformations__WEBPACK_IMPORTED_MODULE_4__","setFootnotesOnDeletion","setFootnotesOnOrderChange","./src/plugins/transformations.js","d","_wordpress_blocks__WEBPACK_IMPORTED_MODULE_0__","_wordpress_data__WEBPACK_IMPORTED_MODULE_1__","lodash__WEBPACK_IMPORTED_MODULE_2__","i","blocks","getBlocks","currentBlock","getSelectedBlock","newBlocks","existingBlocks","uidOrder","forEach","block","content","includes","childMatches","selectedBlock","clientId","newContent","isSelected","matches","newNumber","exec","originalNumber","newMatch","values","newBlock","createBlock","replaceBlock","selectBlock","hasFootnotesChanged","entries","Promise","resolve","blockOrder","lastBlockOrder","unsubscribe","subscribe","getBlockOrder","newBlockOrder","async","doReorderAndResubscribe","footnoteInitialCount","debounce","_document$querySelect","querySelectorAll","_document$querySelect2","footnoteCount","lodash","module","exports","@wordpress/block-editor","@wordpress/blocks","@wordpress/components","@wordpress/data","@wordpress/dom-ready","@wordpress/element","@wordpress/i18n","@wordpress/keycodes","@wordpress/rich-text","__webpack_module_cache__","moduleId","cachedModule","undefined","m","O","result","chunkIds","fn","priority","notFulfilled","Infinity","fulfilled","j","every","splice","getter","__esModule","definition","o","defineProperty","enumerable","obj","prop","Symbol","toStringTag","installedChunks","index","style-index","chunkId","webpackJsonpCallback","parentChunkLoadingFunction","data","moreModules","runtime","some","chunkLoadingGlobal","self"],"mappings":"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","file":"./index.js","sourceRoot":""}