{"version":3,"sources":["webpack://wholesome-footnotes/index.js"],"names":["deferred","__webpack_modules__","./src/editor.scss","__unused_webpack_module","__webpack_exports__","__webpack_require__","r","./src/style.scss","./src/blocks/footnote-list.js","_wordpress_element__WEBPACK_IMPORTED_MODULE_0__","_wordpress_block_editor__WEBPACK_IMPORTED_MODULE_1__","_wordpress_blocks__WEBPACK_IMPORTED_MODULE_2__","_wordpress_data__WEBPACK_IMPORTED_MODULE_3__","_wordpress_i18n__WEBPACK_IMPORTED_MODULE_4__","registerBlockType","apiVersion","category","description","__","edit","blockProps","useBlockProps","className","footnotes","useSelect","select","getEditedPostAttribute","wholesome_footnotes","length","sort","a","b","order","createElement","id","map","note","tags","footnote","match","backLink","uid","endTag","at","replace","RegExp","dangerouslySetInnerHTML","__html","key","icon","save","supports","align","textdomain","title","./src/components/WysiwygControl.js","_wordpress_components__WEBPACK_IMPORTED_MODULE_1__","_wordpress_i18n__WEBPACK_IMPORTED_MODULE_2__","_wordpress_keycodes__WEBPACK_IMPORTED_MODULE_3__","_wordpress_dom_ready__WEBPACK_IMPORTED_MODULE_4__","_wordpress_dom_ready__WEBPACK_IMPORTED_MODULE_4___default","n","wp","window","WysiwygControl","Component","[object Object]","props","super","this","initialize","bind","onSetup","focus","baseURL","suffix","wpEditorL10n","tinymce","EditorManager","overrideDefaults","base_url","slug","addEventListener","oldEditor","remove","prevProps","value","editor","get","setContent","settings","plugins","external_plugins","classic_block_editor","toolbars","toolbar1","toolbar2","toolbar3","toolbar4","formats","editorSettings","block_formats","inline","content_css","fixed_toolbar_container","setup","onChange","ref","bookmark","on","selection","getBookmark","getContent","once","moveToBookmark","event","altKey","keyCode","F10","stopPropagation","rootNode","getBody","document","activeElement","blur","nativeEvent","stopImmediatePropagation","BaseControl","onClick","data-placeholder","onKeyDown","onToolbarKeyDown","./src/formats/footnote.js","_wordpress_components__WEBPACK_IMPORTED_MODULE_2__","_wordpress_rich_text__WEBPACK_IMPORTED_MODULE_5__","_components_WysiwygControl__WEBPACK_IMPORTED_MODULE_6__","_plugins_transformations__WEBPACK_IMPORTED_MODULE_7__","name","FootnoteBlock","text","registerFormatType","_contentRef$current","contentRef","isActive","activeFormats","showPopover","setShowPopover","useState","setFootnote","getActiveFootnoteUID","filter","format","type","attributes","unregisteredAttributes","appliedAttributes","Object","prototype","hasOwnProperty","call","Fragment","RichTextToolbarButton","Modal","onRequestClose","label","current","onLoad","setTimeout","_contentRef$current2","tinyMce","querySelector","selectedFootnote","_selectedFootnote$","getActiveFootnote","Button","_newFootnotes$uid","getTextContent","substring","start","end","toggleFormat","Date","valueOf","toString","insert","create","html","newFootnotes","keys","find","push","dispatch","editPost","meta","wholesome_footnotes_updated","setFootnoteNumbers","variant","tagName","./src/index.js","setFootnotesOnOrderChange","./src/plugins/transformations.js","d","_wordpress_blocks__WEBPACK_IMPORTED_MODULE_0__","_wordpress_data__WEBPACK_IMPORTED_MODULE_1__","i","blocks","getBlocks","currentBlock","getSelectedBlock","newBlocks","uidOrder","forEach","block","content","includes","childMatches","selectedBlock","clientId","newContent","isSelected","matches","newNumber","exec","originalNumber","newMatch","values","newBlock","createBlock","replaceBlock","selectBlock","hasFootnotesChanged","entries","Promise","resolve","blockOrder","lastBlockOrder","unsubscribe","subscribe","getBlockOrder","newBlockOrder","async","doReorderAndResubscribe","lodash","module","exports","@wordpress/block-editor","@wordpress/blocks","@wordpress/components","@wordpress/data","@wordpress/dom-ready","@wordpress/element","@wordpress/i18n","@wordpress/keycodes","@wordpress/rich-text","__webpack_module_cache__","moduleId","cachedModule","undefined","m","O","result","chunkIds","fn","priority","notFulfilled","Infinity","fulfilled","j","every","splice","getter","__esModule","definition","o","defineProperty","enumerable","obj","prop","Symbol","toStringTag","installedChunks","index","style-index","chunkId","webpackJsonpCallback","parentChunkLoadingFunction","data","moreModules","runtime","some","chunkLoadingGlobal","self"],"mappings":"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","file":"./index.js","sourceRoot":""}